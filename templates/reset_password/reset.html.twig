{% extends 'base.html.twig' %}

{% block title %}Nouveau mot de passe - Linkr{% endblock %}

{% block body %}
<div class="min-h-screen bg-linear-to-br from-gray-50 via-white to-gray-50">
    <main class="flex items-center justify-center min-h-screen py-16 px-4 sm:px-6 lg:px-8">
        <div class="w-full max-w-lg">
            <div class="bg-white rounded-2xl border border-gray-100 shadow-lg shadow-gray-200/50 p-8">
                <h1 class="text-3xl font-extrabold text-gray-900 mb-2 tracking-tight">Nouveau mot de passe</h1>
                <p class="text-gray-600 text-sm mb-8">Choisissez un nouveau mot de passe pour votre compte.</p>

                {% for flash_error in app.flashes('reset_password_error') %}
                    <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
                        <p class="text-red-700 text-sm">{{ flash_error }}</p>
                    </div>
                {% endfor %}

                {{ form_start(resetForm, { attr: { class: 'space-y-6' } }) }}
                    <div>
                        {{ form_label(resetForm.plainPassword.first, null, { label_attr: { class: 'block text-sm font-semibold text-gray-700 mb-2' } }) }}
                        {{ form_widget(resetForm.plainPassword.first, {
                            attr: {
                                class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200',
                                placeholder: 'Votre nouveau mot de passe'
                            }
                        }) }}
                        {{ form_errors(resetForm.plainPassword.first) }}
                    </div>

                    <div>
                        {{ form_label(resetForm.plainPassword.second, null, { label_attr: { class: 'block text-sm font-semibold text-gray-700 mb-2' } }) }}
                        {{ form_widget(resetForm.plainPassword.second, {
                            attr: {
                                class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200',
                                placeholder: 'Répétez le mot de passe'
                            }
                        }) }}
                        {{ form_errors(resetForm.plainPassword.second) }}
                    </div>
                    {{ form_errors(resetForm.plainPassword) }}

                    {{ form_row(resetForm._token) }}

                    <button
                        type="submit"
                        class="w-full px-8 py-3 bg-linear-to-r from-slate-900 via-indigo-900 to-slate-900 text-white font-semibold rounded-full text-sm tracking-wide shadow-lg shadow-indigo-900/25 hover:shadow-xl hover:shadow-indigo-900/35 transition-all duration-300 hover:scale-105"
                    >
                        Réinitialiser le mot de passe
                    </button>
                {{ form_end(resetForm, { render_rest: false }) }}

                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                        <a href="{{ path('app_login') }}" class="font-semibold text-indigo-600 hover:text-indigo-700 transition-colors">
                            Retour à la connexion
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </main>
</div>
{% endblock %}
